{
  "name": "Weather MCP Server Evaluation",
  "description": "Comprehensive evaluation suite for a weather MCP server, demonstrating both direct and LLM host testing modes",
  "cases": [
    {
      "id": "direct-weather-london",
      "description": "Direct API call to get weather for London",
      "mode": "direct",
      "toolName": "get_weather",
      "args": {
        "city": "London"
      },
      "expectedTextContains": ["London", "temperature"],
      "expectedRegex": ["temperature.*\\d+"]
    },
    {
      "id": "direct-weather-tokyo",
      "description": "Direct API call to get weather for Tokyo with schema validation",
      "mode": "direct",
      "toolName": "get_weather",
      "args": {
        "city": "Tokyo"
      },
      "expectedSchemaName": "weatherResponse"
    },
    {
      "id": "llm-weather-discovery",
      "description": "LLM discovers and calls the correct weather tool",
      "mode": "llm_host",
      "toolName": "placeholder",
      "args": {},
      "scenario": "What's the weather like in Paris? I'm planning a trip there tomorrow.",
      "llmHostConfig": {
        "provider": "openai",
        "model": "gpt-4",
        "temperature": 0.0,
        "maxTokens": 1000
      },
      "metadata": {
        "expectedToolCalls": [
          {
            "name": "get_weather",
            "arguments": {
              "city": "Paris"
            },
            "required": true
          }
        ]
      }
    },
    {
      "id": "llm-weather-anthropic",
      "description": "LLM (Anthropic) discovers weather tool and provides helpful response",
      "mode": "llm_host",
      "toolName": "placeholder",
      "args": {},
      "scenario": "I need to know the weather forecast for New York City to decide what to wear.",
      "llmHostConfig": {
        "provider": "anthropic",
        "model": "claude-3-5-sonnet-20241022",
        "temperature": 0.0,
        "maxTokens": 1000
      },
      "expectedTextContains": ["New York"],
      "metadata": {
        "expectedToolCalls": [
          {
            "name": "get_weather",
            "arguments": {
              "city": "New York"
            },
            "required": true
          }
        ]
      }
    },
    {
      "id": "llm-ambiguous-city",
      "description": "Tests how LLM handles ambiguous city names",
      "mode": "llm_host",
      "toolName": "placeholder",
      "args": {},
      "scenario": "What's the weather in Springfield?",
      "llmHostConfig": {
        "provider": "openai",
        "model": "gpt-4",
        "temperature": 0.0
      },
      "metadata": {
        "expectedToolCalls": [
          {
            "name": "get_weather",
            "required": true
          }
        ]
      }
    },
    {
      "id": "direct-multi-day-forecast",
      "description": "Direct call for multi-day weather forecast",
      "mode": "direct",
      "toolName": "get_forecast",
      "args": {
        "city": "Seattle",
        "days": 5
      },
      "expectedTextContains": ["Seattle", "forecast", "5 days"]
    },
    {
      "id": "llm-forecast-request",
      "description": "LLM interprets natural language forecast request",
      "mode": "llm_host",
      "toolName": "placeholder",
      "args": {},
      "scenario": "I'm traveling to Seattle next week. Can you give me a 7-day weather forecast?",
      "llmHostConfig": {
        "provider": "anthropic",
        "temperature": 0.0
      },
      "metadata": {
        "expectedToolCalls": [
          {
            "name": "get_forecast",
            "arguments": {
              "city": "Seattle",
              "days": 7
            },
            "required": true
          }
        ]
      }
    },
    {
      "id": "llm-tool-discovery-no-location",
      "description": "Tests LLM behavior when location info is missing",
      "mode": "llm_host",
      "toolName": "placeholder",
      "args": {},
      "scenario": "What's the weather like?",
      "llmHostConfig": {
        "provider": "openai",
        "model": "gpt-4",
        "temperature": 0.0
      },
      "expectedTextContains": ["location", "city"]
    }
  ],
  "metadata": {
    "author": "MCP Eval Examples",
    "version": "1.0.0",
    "notes": [
      "This dataset demonstrates both 'direct' and 'llm_host' evaluation modes",
      "Direct mode tests specific tool calls with known inputs",
      "LLM host mode tests tool discoverability and parameter extraction from natural language",
      "Tool call validation is done via the 'expectedToolCalls' field in metadata",
      "Requires OPENAI_API_KEY and ANTHROPIC_API_KEY environment variables for LLM modes"
    ]
  }
}
